# TODO: –ü–ª–∞–Ω –¥–æ—Ä–∞–±–æ—Ç–∫–∏ RooTrace

## üìã –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø—Ä–æ–µ–∫—Ç–∞ (v0.0.1)

**RooTrace** - —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ –¥–ª—è VSCode, –∫–æ—Ç–æ—Ä–æ–µ –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –æ—Ç–ª–∞–¥–æ—á–Ω—É—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å —á–µ—Ä–µ–∑ HTTP –∏ MCP (Model Context Protocol) —Å–µ—Ä–≤–µ—Ä—ã.

### –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞:
- **HTTP —Å–µ—Ä–≤–µ—Ä** (`extension.ts`) - –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –ª–æ–≥–∏ –æ—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π —á–µ—Ä–µ–∑ POST `/` –∏ –æ—Ç–¥–∞–µ—Ç —á–µ—Ä–µ–∑ GET `/logs`
- **MCP —Å–µ—Ä–≤–µ—Ä** (`mcp-handler.ts`) - –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è Roo Code/Roo Cline —á–µ—Ä–µ–∑ MCP –ø—Ä–æ—Ç–æ–∫–æ–ª
- **–†–æ–ª—å –≤ Roo Code** (`role-manager.ts`) - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–ª—è–µ—Ç –∫–∞—Å—Ç–æ–º–Ω—É—é —Ä–æ–ª—å "AI Debugger"
- **–ò–Ω—ä–µ–∫—Ü–∏—è –ø—Ä–æ–±** (`code-injector.ts`) - –≤—Å—Ç–∞–≤–ª—è–µ—Ç –æ—Ç–ª–∞–¥–æ—á–Ω—ã–π –∫–æ–¥ –≤ —Ñ–∞–π–ª—ã —Å UUID-–º–∞—Ä–∫–µ—Ä–∞–º–∏ –∏ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º Rollback
- **SharedLogStorage** (`shared-log-storage.ts`) - –µ–¥–∏–Ω–æ–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–µ —Å –ñ–µ–ª–µ–∑–Ω—ã–º –º–æ—Å—Ç–æ–º (—Ñ–∞–π–ª–æ–≤—ã–µ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ + fs.watchFile)
- **File Lock Utils** (`file-lock-utils.ts`) - —Ñ–∞–π–ª–æ–≤—ã–µ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è race conditions

### –û—Å–Ω–æ–≤–Ω–∞—è –ø—Ä–æ–±–ª–µ–º–∞:
~~HTTP –∏ MCP —Å–µ—Ä–≤–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç **—Ä–∞–∑–Ω—ã–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞ –ª–æ–≥–æ–≤**, –ø–æ—ç—Ç–æ–º—É MCP –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç `read_runtime_logs` –Ω–µ –≤–∏–¥–∏—Ç –ª–æ–≥–∏, –ø–æ–ª—É—á–µ–Ω–Ω—ã–µ —á–µ—Ä–µ–∑ HTTP.~~ ‚úÖ **–†–ï–®–ï–ù–û —á–µ—Ä–µ–∑ –ñ–µ–ª–µ–∑–Ω—ã–π –º–æ—Å—Ç (v0.0.1)**

### –ö–ª—é—á–µ–≤—ã–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è v0.0.1:
- ‚úÖ **–ñ–µ–ª–µ–∑–Ω—ã–π –º–æ—Å—Ç** - –±–µ–∑–æ—Ç–∫–∞–∑–Ω–∞—è —Ñ–∞–π–ª–æ–≤–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è —á–µ—Ä–µ–∑ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏
- ‚úÖ **UUID-–º–∞—Ä–∫–µ—Ä—ã** - —Ç–æ—á–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ –ø—Ä–æ–± –¥–∞–∂–µ –ø—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ –∫–æ–¥–∞ –≤–æ–∫—Ä—É–≥
- ‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π Rollback** - –∑–∞—â–∏—Ç–∞ –æ—Ç –±–∏—Ç—ã—Ö —Å–æ—Å—Ç–æ—è–Ω–∏–π —Ñ–∞–π–ª–∞
- ‚úÖ **–í–∞–ª–∏–¥–∞—Ü–∏—è —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞** - –ø–æ–¥–¥–µ—Ä–∂–∫–∞ 15+ —è–∑—ã–∫–æ–≤ –ø—Ä–æ–≥—Ä–∞–º–º–∏—Ä–æ–≤–∞–Ω–∏—è

---

## ‚úÖ –£–ñ–ï –†–ï–ê–õ–ò–ó–û–í–ê–ù–û

- ‚úÖ **HTTP —Å–µ—Ä–≤–µ—Ä** - –∑–∞–ø—É—Å–∫–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è (`extension.ts:84`)
  - –°–ª—É—à–∞–µ—Ç POST `/` –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ª–æ–≥–æ–≤ –æ—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π
  - –°–ª—É—à–∞–µ—Ç GET `/logs` –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –ª–æ–≥–æ–≤
  - –°–æ—Ö—Ä–∞–Ω—è–µ—Ç –ª–æ–≥–∏ —á–µ—Ä–µ–∑ `SharedLogStorage` —Å —Ñ–∞–π–ª–æ–≤—ã–º–∏ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∞–º–∏
  - –°–æ–∑–¥–∞–µ—Ç `.ai_debug_config` —Å URL —Å–µ—Ä–≤–µ—Ä–∞
- ‚úÖ **–†–æ–ª—å –≤ Roo Code** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –¥–æ–±–∞–≤–ª—è–µ—Ç—Å—è –≤ `.roomodes` (`role-manager.ts`)
  - –†–æ–ª—å "AI Debugger" —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É–µ—Ç—Å—è –ø—Ä–∏ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è
  - –°–æ–¥–µ—Ä–∂–∏—Ç –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é MCP –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤
- ‚úÖ **MCP —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è** - –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç —Å–µ—Ä–≤–µ—Ä –≤ `.roo/mcp.json`
  - –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç —Ñ–æ—Ä–º–∞—Ç –¥–ª—è Roo Code –∏ Roo Cline
  - –°–æ–∑–¥–∞–µ—Ç –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é –ø—Ä–∏ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è
- ‚úÖ **–ñ–µ–ª–µ–∑–Ω—ã–π –º–æ—Å—Ç (v0.0.1)** - –±–µ–∑–æ—Ç–∫–∞–∑–Ω–∞—è —Ñ–∞–π–ª–æ–≤–∞—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è
  - –§–∞–π–ª–æ–≤—ã–µ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ —á–µ—Ä–µ–∑ `withFileLock()` –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è race conditions
  - `fs.watchFile` –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –∏–∑–º–µ–Ω–µ–Ω–∏–π —Ñ–∞–π–ª–∞ –ª–æ–≥–æ–≤ (–∏–Ω—Ç–µ—Ä–≤–∞–ª 200 –º—Å)
  - –ì–∏–±—Ä–∏–¥–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç: Extension (Writer) –∏ MCP (Reader) —Ä–∞–±–æ—Ç–∞—é—Ç —á–µ—Ä–µ–∑ –µ–¥–∏–Ω—ã–π —Ñ–∞–π–ª
  - Zero-Latency —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è –º–µ–∂–¥—É –ø—Ä–æ—Ü–µ—Å—Å–∞–º–∏
- ‚úÖ **UUID-–º–∞—Ä–∫–µ—Ä—ã (v1.0.0)** - —Ç–æ—á–Ω–æ–µ —É–¥–∞–ª–µ–Ω–∏–µ –ø—Ä–æ–±
  - –ö–∞–∂–¥–∞—è –ø—Ä–æ–±–∞ –ø–æ–ª—É—á–∞–µ—Ç —É–Ω–∏–∫–∞–ª—å–Ω—ã–π ID (`a1b2`) –≤ —Ñ–æ—Ä–º–∞—Ç–µ `// RooTrace [id: a1b2]`
  - –•–∏—Ä—É—Ä–≥–∏—á–µ—Å–∫–∞—è –æ—á–∏—Å—Ç–∫–∞ —á–µ—Ä–µ–∑ —Ä–µ–≥—É–ª—è—Ä–Ω—ã–µ –≤—ã—Ä–∞–∂–µ–Ω–∏—è
  - –£—Å—Ç–æ–π—á–∏–≤–æ—Å—Ç—å –∫ —Å–¥–≤–∏–≥–∞–º –∫–æ–¥–∞ - –º–∞—Ä–∫–µ—Ä—ã –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ –ª—é–±–æ–º –º–µ—Å—Ç–µ —Ñ–∞–π–ª–∞
- ‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π Rollback (v0.0.1)** - –∑–∞—â–∏—Ç–∞ –æ—Ç –±–∏—Ç—ã—Ö —Å–æ—Å—Ç–æ—è–Ω–∏–π
  - –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞ –ø–æ—Å–ª–µ –∏–Ω—ä–µ–∫—Ü–∏–∏ –ø—Ä–æ–±
  - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –æ—Ç–∫–∞—Ç —Ñ–∞–π–ª–∞ –∫ –∏—Å—Ö–æ–¥–Ω–æ–º—É —Å–æ—Å—Ç–æ—è–Ω–∏—é –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞
  - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –≤–∏–¥–∏—Ç "–∫—Ä–∞—Å–Ω—ã—Ö" –æ—à–∏–±–æ–∫ –≤ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ
- ‚úÖ **–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∫–æ–Ω—Ç–µ–∫—Å—Ç–∞ AI Debugger** - –≥–∏–±—Ä–∏–¥–Ω–∞—è –ª–µ–Ω–∏–≤–∞—è –∑–∞–≥—Ä—É–∑–∫–∞ (2026-01-22)
  - –û–±—ä–µ–º –≤—Å—Ç—Ä–æ–µ–Ω–Ω–æ–≥–æ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ —Å–Ω–∏–∂–µ–Ω —Å 133 KB –¥–æ ~11 KB (92% reduction)
  - –í—Å—Ç—Ä–æ–µ–Ω—ã —Ç–æ–ª—å–∫–æ 4 –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω—ã—Ö –±–∞–∑–æ–≤—ã—Ö –º–æ–¥—É–ª—è: `00-base-language.md`, `00-base-error-handling.md`, `00-base-penalties.md`, `00-formats-validator.md`
  - –û—Å—Ç–∞–ª—å–Ω—ã–µ 36 –º–æ–¥—É–ª–µ–π –∑–∞–≥—Ä—É–∂–∞—é—Ç—Å—è –ø–æ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—é —á–µ—Ä–µ–∑ `load_rule`
  - –°–æ–∑–¥–∞–Ω–∞ —Ä–µ–∑–µ—Ä–≤–Ω–∞—è –∫–æ–ø–∏—è `.roomodes.backup` –¥–ª—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è

## üî¥ –ö–†–ò–¢–ò–ß–ï–°–ö–ò–ï –ü–†–û–ë–õ–ï–ú–´ MCP (–∏—Å–ø—Ä–∞–≤–∏—Ç—å –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ)

### 1. MCP Protocol Compliance Issues

- [x] **–î–æ–±–∞–≤–∏—Ç—å Initialize Request Handler** - MCP –ø—Ä–æ—Ç–æ–∫–æ–ª —Ç—Ä–µ–±—É–µ—Ç –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—É—é –æ–±—Ä–∞–±–æ—Ç–∫—É `initialize` –∑–∞–ø—Ä–æ—Å–∞ ‚úÖ
  - **–§–∞–π–ª**: `src/mcp-handler.ts`
  - **–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ**:
    - –ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω `InitializeRequestSchema` –∏–∑ `@modelcontextprotocol/sdk/types.js`
    - –î–æ–±–∞–≤–ª–µ–Ω `server.setRequestHandler(InitializeRequestSchema, ...)` –ø–µ—Ä–µ–¥ `ListToolsRequestSchema`
    - –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç `protocolVersion: '2024-11-05'`, `capabilities: { tools: {} }`, `serverInfo: { name: 'RooTrace', version: '1.0.0' }`
    - –î–æ–±–∞–≤–ª–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –∑–∞–ø—Ä–æ—Å–æ–≤ –∏ –æ—Ç–≤–µ—Ç–æ–≤

- [x] **–ò—Å–ø—Ä–∞–≤–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É –æ—à–∏–±–æ–∫ –≤ CallToolRequestSchema** - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å MCP-compliant error responses –≤–º–µ—Å—Ç–æ throw ‚úÖ
  - **–§–∞–π–ª**: `src/mcp-handler.ts`
  - **–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ**:
    - –í–µ—Å—å switch –æ–±–µ—Ä–Ω—É—Ç –≤ try-catch
    - `injectProbe` –æ–±–µ—Ä–Ω—É—Ç –≤ try-catch
    - –ó–∞–º–µ–Ω–µ–Ω `throw Error` –Ω–∞ –≤–æ–∑–≤—Ä–∞—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ error response —Å `isError: true`
    - –í—Å–µ error responses –∏–º–µ—é—Ç —Ñ–æ—Ä–º–∞—Ç: `{ content: [{ type: 'text', text: JSON.stringify({ success: false, error: ..., errorCode: ... }) }], isError: true }`

- [x] **–°–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞—Ç—å HTTP –∏ MCP —Å–µ—Ä–≤–µ—Ä—ã** - –ª–æ–≥–∏ –ø—Ä–∏—Ö–æ–¥—è—Ç –Ω–∞ HTTP, –Ω–æ MCP –Ω–µ –≤–∏–¥–∏—Ç –∏—Ö ‚úÖ
  - **–§–∞–π–ª—ã**: `src/shared-log-storage.ts`, `src/extension.ts`, `src/mcp-handler.ts`, `src/file-lock-utils.ts`
  - **–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ (–ñ–µ–ª–µ–∑–Ω—ã–π –º–æ—Å—Ç v0.0.1)**:
    - –°–æ–∑–¥–∞–Ω `src/shared-log-storage.ts` —Å singleton –∫–ª–∞—Å—Å–æ–º `SharedLogStorage`
    - **–§–∞–π–ª–æ–≤—ã–µ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏**: –í—Å–µ –æ–ø–µ—Ä–∞—Ü–∏–∏ —Å —Ñ–∞–π–ª–æ–º `.rootrace/ai_debug_logs.json` –∑–∞—â–∏—â–µ–Ω—ã —á–µ—Ä–µ–∑ `withFileLock()` –∏–∑ `file-lock-utils.ts`
    - **–†–µ–∂–∏–º Observer**: `fs.watchFile` –æ—Ç—Å–ª–µ–∂–∏–≤–∞–µ—Ç –∏–∑–º–µ–Ω–µ–Ω–∏—è —Ñ–∞–π–ª–∞ –ª–æ–≥–æ–≤ (–∏–Ω—Ç–µ—Ä–≤–∞–ª 200 –º—Å) –¥–ª—è —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏ MCP
    - **–ì–∏–±—Ä–∏–¥–Ω—ã–π –∫–æ–Ω—Ç–µ–∫—Å—Ç**: Extension (Writer) —Å—Ä–∞–∑—É —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –Ω–∞ –¥–∏—Å–∫ —á–µ—Ä–µ–∑ `addLog()`, MCP (Reader) –∑–∞–≥—Ä—É–∂–∞–µ—Ç –∏–∑ —Ñ–∞–π–ª–∞ —á–µ—Ä–µ–∑ `getLogs()`
    - –ö–ª–∞—Å—Å –∏–º–µ–µ—Ç –º–µ—Ç–æ–¥—ã: `addLog(log: RuntimeLog)` (async), `getLogs(): Promise<RuntimeLog[]>` (async), `clear()` (async), `getLogsByHypothesis()`
    - –í `extension.ts`: –∑–∞–º–µ–Ω–µ–Ω `inMemoryLogs` –Ω–∞ `SharedLogStorage.getInstance()`, `addLog()` —Å—Ç–∞–ª async
    - –í `mcp-handler.ts`: –∑–∞–º–µ–Ω–µ–Ω `debugSession` –Ω–∞ `SharedLogStorage.getInstance()`, `getLogs()` —Å—Ç–∞–ª async
    - –û–±–Ω–æ–≤–ª–µ–Ω `logToOutputChannel` –≤ `extension.ts` –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è shared storage —Å await
    - –û–±–Ω–æ–≤–ª–µ–Ω `read_runtime_logs` –≤ `mcp-handler.ts` –¥–ª—è —á—Ç–µ–Ω–∏—è –∏–∑ shared storage —Å await
    - **–†–µ–∑—É–ª—å—Ç–∞—Ç**: –ù–∏–∫–∞–∫–∏—Ö race conditions, –Ω–µ—Ç –ø–æ—Ç–µ—Ä–∏ –¥–∞–Ω–Ω—ã—Ö, Zero-Latency —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏—è

## üü° –í–ê–ñ–ù–´–ï –ü–†–û–ë–õ–ï–ú–´ MCP (–∏—Å–ø—Ä–∞–≤–∏—Ç—å –≤ –±–ª–∏–∂–∞–π—à–µ–µ –≤—Ä–µ–º—è)

- [x] **–î–æ–±–∞–≤–∏—Ç—å –æ–±—Ä–∞–±–æ—Ç–∫—É Shutdown Request** - MCP –º–æ–∂–µ—Ç –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å shutdown –∑–∞–ø—Ä–æ—Å—ã ‚úÖ
  - **–§–∞–π–ª**: `src/mcp-handler.ts`, `src/mcp-server.ts`
  - **–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ**: 
    - Shutdown –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ —Å–∏–≥–Ω–∞–ª—ã (SIGINT/SIGTERM) –≤ `mcp-server.ts`
    - `ShutdownRequestSchema` –Ω–µ –¥–æ—Å—Ç—É–ø–µ–Ω –≤ —Ç–µ–∫—É—â–µ–π –≤–µ—Ä—Å–∏–∏ MCP SDK
    - –ú–µ—Ç–æ–¥ `stop()` –≤—ã–∑—ã–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –ø–æ–ª—É—á–µ–Ω–∏–∏ —Å–∏–≥–Ω–∞–ª–æ–≤

- [x] **–£–ª—É—á—à–∏—Ç—å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ MCP** - –¥–æ–±–∞–≤–∏—Ç—å structured logging –¥–ª—è –≤—Å–µ—Ö –∑–∞–ø—Ä–æ—Å–æ–≤/–æ—Ç–≤–µ—Ç–æ–≤ ‚úÖ
  - **–§–∞–π–ª**: `src/mcp-handler.ts`
  - **–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ**:
    - –î–æ–±–∞–≤–ª–µ–Ω—ã –º–µ—Ç–æ–¥—ã `logMCPRequest()`, `logMCPResponse()`, `logMCPError()`
    - –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –≤—Ö–æ–¥—è—â–∏—Ö –∑–∞–ø—Ä–æ—Å–æ–≤: `[MCP] Request: ${method}`, `[MCP] Request params: ${JSON.stringify(params)}`
    - –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –æ—Ç–≤–µ—Ç–æ–≤: `[MCP] Response: ${method}`, `[MCP] Response time: ${duration}ms`
    - –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫ —Å –¥–µ—Ç–∞–ª—è–º–∏ –∏ stack trace
    - –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `console.error` –¥–ª—è —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ —Å stdio transport

- [ ] **–î–æ–±–∞–≤–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é —á–µ—Ä–µ–∑ JSON Schema** - –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –±–∏–±–ª–∏–æ—Ç–µ–∫—É –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –≤–∞–ª–∏–¥–∞—Ü–∏–∏
  - **–§–∞–π–ª**: `src/mcp-handler.ts`
  - **–°—Ç–∞—Ç—É—Å**: –û—Ç–ª–æ–∂–µ–Ω–æ - –±–∞–∑–æ–≤–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è —É–∂–µ –µ—Å—Ç—å –≤ –∫–æ–¥–µ
  - **–†–µ—à–µ–Ω–∏–µ**: 
    - –î–æ–±–∞–≤–∏—Ç—å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å `ajv` –¥–ª—è –±–æ–ª–µ–µ —Å—Ç—Ä–æ–≥–æ–π –≤–∞–ª–∏–¥–∞—Ü–∏–∏ (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)
    - –°–æ–∑–¥–∞—Ç—å –≤–∞–ª–∏–¥–∞—Ç–æ—Ä—ã –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞ –Ω–∞ –æ—Å–Ω–æ–≤–µ –∏—Ö `inputSchema`
    - –í–∞–ª–∏–¥–∏—Ä–æ–≤–∞—Ç—å `request.params` –ø–µ—Ä–µ–¥ –æ–±—Ä–∞–±–æ—Ç–∫–æ–π

- [x] **–ò—Å–ø—Ä–∞–≤–∏—Ç—å –º–µ—Ç–æ–¥ stop()** - –¥–æ–±–∞–≤–∏—Ç—å –æ—á–∏—Å—Ç–∫—É —Ä–µ—Å—É—Ä—Å–æ–≤ –∏ graceful shutdown ‚úÖ
  - **–§–∞–π–ª**: `src/mcp-handler.ts`
  - **–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ**:
    - –î–æ–±–∞–≤–ª–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –≤ try-catch
    - –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ—Ü–µ—Å—Å–∞ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏
    - –£—Å—Ç–∞–Ω–æ–≤–∫–∞ `this.server = null` –¥–ª—è –æ—á–∏—Å—Ç–∫–∏ —Å—Å—ã–ª–∫–∏
    - –í stdio —Ä–µ–∂–∏–º–µ —Å–µ—Ä–≤–µ—Ä –Ω–µ –∏–º–µ–µ—Ç –º–µ—Ç–æ–¥–∞ close, –Ω–æ —Å–æ—Å—Ç–æ—è–Ω–∏–µ –æ—á–∏—â–∞–µ—Ç—Å—è

- [x] **–£–¥–∞–ª–∏—Ç—å –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–π EventEmitter** - –ª–∏–±–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å, –ª–∏–±–æ —É–¥–∞–ª–∏—Ç—å ‚úÖ
  - **–§–∞–π–ª**: `src/mcp-handler.ts`
  - **–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ**: 
    - EventEmitter —É–¥–∞–ª–µ–Ω –∏–∑ –∫–ª–∞—Å—Å–∞ (–Ω–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª—Å—è)
    - –ï—Å–ª–∏ –ø–æ–Ω–∞–¥–æ–±–∏—Ç—Å—è event-driven –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ –≤ –±—É–¥—É—â–µ–º, –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –æ–±—Ä–∞—Ç–Ω–æ

## üöÄ –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è

### 1. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Debug Adapter Protocol (DAP)
- [ ] –†–µ–∞–ª–∏–∑–æ–≤–∞—Ç—å DAP interceptor –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏ –±–µ–∑ –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∫–æ–¥–∞
  - **–§–∞–π–ª**: –°–æ–∑–¥–∞—Ç—å `src/dap-interceptor.ts`
  - –ü–µ—Ä–µ—Ö–≤–∞—Ç —Å–æ–±—ã—Ç–∏–π `stopped`, `threads`, `stackTrace`, `variables`
  - –°–æ–∑–¥–∞–Ω–∏–µ —Å–Ω–∏–º–∫–æ–≤ —Å–æ—Å—Ç–æ—è–Ω–∏—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –≤ —Ç–æ—á–∫–∞—Ö –æ—Å—Ç–∞–Ω–æ–≤–∞
  - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º–∏ debug –∞–¥–∞–ø—Ç–µ—Ä–∞–º–∏ (Node.js, Python, Java)
  - –ü—Ä–æ–∫—Å–∏-—Ä–µ–∂–∏–º –¥–ª—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –∞–¥–∞–ø—Ç–µ—Ä–æ–≤
- **–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞**: –ù–µ —Ç—Ä–µ–±—É–µ—Ç –º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∫–æ–¥–∞, —Ç–æ—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –æ—Ç–ª–∞–¥–∫–∏
- **–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏**: –¢—Ä–µ–±—É–µ—Ç –∏–∑—É—á–µ–Ω–∏—è DAP —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏–∏ –∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å VSCode Debug API

### 2. WebSocket –¥–ª—è real-time –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π Dashboard
- [x] –ó–∞–º–µ–Ω–∏—Ç—å HTTP polling –Ω–∞ WebSocket —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ ‚úÖ
  - **–§–∞–π–ª**: `src/extension.ts`, `src/shared-log-storage.ts`
  - **–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ**:
    - –î–æ–±–∞–≤–ª–µ–Ω EventEmitter –≤ SharedLogStorage –¥–ª—è —Å–æ–±—ã—Ç–∏–π
    - –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `setupWebSocketListeners()` –¥–ª—è real-time –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π
    - SharedLogStorage —ç–º–∏—Ç–∏—Ç —Å–æ–±—ã—Ç–∏–µ 'logAdded' –ø—Ä–∏ –¥–æ–±–∞–≤–ª–µ–Ω–∏–∏ –ª–æ–≥–æ–≤
    - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã—Ö WebSocket –∫–ª–∏–µ–Ω—Ç–æ–≤ —á–µ—Ä–µ–∑ Set
    - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞ –Ω–æ–≤—ã—Ö –ª–æ–≥–æ–≤ –≤—Å–µ–º –ø–æ–¥–∫–ª—é—á–µ–Ω–Ω—ã–º –∫–ª–∏–µ–Ω—Ç–∞–º
- **–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞**: –ú–≥–Ω–æ–≤–µ–Ω–Ω—ã–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è, –ª—É—á—à–∏–π UX

### 3. –ò—Å—Ç–æ—Ä–∏—è —Å–µ—Å—Å–∏–π –æ—Ç–ª–∞–¥–∫–∏
- [x] –•—Ä–∞–Ω–µ–Ω–∏–µ –∏—Å—Ç–æ—Ä–∏–∏ —Å–µ—Å—Å–∏–π –≤ –ø–µ—Ä—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ–º —Ö—Ä–∞–Ω–∏–ª–∏—â–µ ‚úÖ
  - **–§–∞–π–ª**: `src/session-manager.ts`
  - **–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ**:
    - –°–æ–∑–¥–∞–Ω SessionManager —Å singleton –ø–∞—Ç—Ç–µ—Ä–Ω–æ–º
    - –£–Ω–∏–∫–∞–ª—å–Ω—ã–µ ID –¥–ª—è –∫–∞–∂–¥–æ–π —Å–µ—Å—Å–∏–∏ (—Ñ–æ—Ä–º–∞—Ç: `session-{timestamp}-{random}`)
    - Metadata —Å–µ—Å—Å–∏–π (timestamp, –≥–∏–ø–æ—Ç–µ–∑—ã, —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã, duration, status)
    - –ú–µ—Ç–æ–¥—ã –¥–ª—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è, —Å—Ä–∞–≤–Ω–µ–Ω–∏—è –∏ —ç–∫—Å–ø–æ—Ä—Ç–∞ —Å–µ—Å—Å–∏–π
    - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ `.roo-trace-sessions.json`
    - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å SharedLogStorage
- **–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞**: –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞, –∞–Ω–∞–ª–∏–∑ –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤

### 4. –≠–∫—Å–ø–æ—Ä—Ç –ª–æ–≥–æ–≤ –≤ —Ä–∞–∑–ª–∏—á–Ω—ã–µ —Ñ–æ—Ä–º–∞—Ç—ã
- [x] –≠–∫—Å–ø–æ—Ä—Ç –≤ JSON ‚úÖ
- [x] –≠–∫—Å–ø–æ—Ä—Ç –≤ CSV ‚úÖ
- [x] –≠–∫—Å–ø–æ—Ä—Ç –≤ Markdown ‚úÖ
- [x] –≠–∫—Å–ø–æ—Ä—Ç –≤ HTML (—Å –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–µ–π) ‚úÖ
- [x] –≠–∫—Å–ø–æ—Ä—Ç –≤ —Ñ–æ—Ä–º–∞—Ç—ã –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ (Excel —á–µ—Ä–µ–∑ CSV) ‚úÖ
- [x] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –∫–æ–º–∞–Ω–¥–∞–º–∏ —ç–∫—Å–ø–æ—Ä—Ç–∞ –≤ UI ‚úÖ
  - **–§–∞–π–ª**: `src/log-exporter.ts`, `package.json`
  - **–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ**:
    - –°–æ–∑–¥–∞–Ω LogExporter –∫–ª–∞—Å—Å —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –≤—Å–µ—Ö —Ñ–æ—Ä–º–∞—Ç–æ–≤
    - –î–æ–±–∞–≤–ª–µ–Ω—ã –∫–æ–º–∞–Ω–¥—ã: `rooTrace.exportJSON`, `rooTrace.exportCSV`, `rooTrace.exportMarkdown`, `rooTrace.exportHTML`
    - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏ –ø–æ –≥–∏–ø–æ—Ç–µ–∑–∞–º –∏ –¥–∞—Ç–∞–º
    - –ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ —ç–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ HTML –≤ —ç–∫—Å–ø–æ—Ä—Ç–µ
    - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ñ–∞–π–ª–æ–≤ –≤ workspace

### 5. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å —Ç–µ—Å—Ç–æ–≤—ã–º–∏ —Ñ—Ä–µ–π–º–≤–æ—Ä–∫–∞–º–∏
- [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Jest (—á–µ—Ä–µ–∑ Jest reporters)
- [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å Mocha (—á–µ—Ä–µ–∑ custom reporter)
- [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å pytest (—á–µ—Ä–µ–∑ pytest hooks)
- [ ] –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ —Ç–µ—Å—Ç–æ–≤ —á–µ—Ä–µ–∑ HTTP endpoint
- [ ] –ö–æ—Ä—Ä–µ–ª—è—Ü–∏—è –ª–æ–≥–æ–≤ —Å —Ç–µ—Å—Ç–æ–≤—ã–º–∏ –∫–µ–π—Å–∞–º–∏
- [ ] –û—Ç—á–µ—Ç—ã –æ –ø–æ–∫—Ä—ã—Ç–∏–∏ –æ—Ç–ª–∞–¥–∫–æ–π
- **–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞**: –°–≤—è–∑—å –æ—Ç–ª–∞–¥–∫–∏ —Å —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ–º
- **–§–∞–π–ª**: –°–æ–∑–¥–∞—Ç—å `src/test-integration.ts`

### 6. –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∞ –∏ –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è
- [ ] –ì—Ä–∞—Ñ–∏–∫–∏ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ä—è–¥–æ–≤ –¥–ª—è –ª–æ–≥–æ–≤ (–≤ Dashboard WebView)
- [ ] Heatmap –∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏ –ø–æ –≥–∏–ø–æ—Ç–µ–∑–∞–º
- [ ] –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –ø–æ —Ç–∏–ø–∞–º –ø—Ä–æ–±
- [ ] –ê–Ω–∞–ª–∏–∑ –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ –≤ –ª–æ–≥–∞—Ö
- [ ] –ü—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º –Ω–∞ –æ—Å–Ω–æ–≤–µ –∏—Å—Ç–æ—Ä–∏–∏
- [ ] –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω—ã–µ –¥–∞—à–±–æ—Ä–¥—ã
- **–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞**: –ì–ª—É–±–æ–∫–∏–π –∞–Ω–∞–ª–∏–∑ –¥–∞–Ω–Ω—ã—Ö –æ—Ç–ª–∞–¥–∫–∏
- **–§–∞–π–ª**: –û–±–Ω–æ–≤–∏—Ç—å `getWebviewContent()` –≤ `extension.ts` –∏–ª–∏ —Å–æ–∑–¥–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç

## üîß –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ —É–ª—É—á—à–µ–Ω–∏—è

### –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å
- [x] –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –±—É—Ñ–µ—Ä–∏–∑–∞—Ü–∏–∏ –ª–æ–≥–æ–≤ ‚úÖ
  - **–§–∞–π–ª**: `src/shared-log-storage.ts`
  - **–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ**:
    - –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ —Ä–∞–∑–º–µ—Ä–∞ in-memory –ª–æ–≥–æ–≤ (–Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ `rooTrace.maxLogs`, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 1000)
    - –ò–Ω–¥–µ–∫—Å–∞—Ü–∏—è –ª–æ–≥–æ–≤ –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–æ–∏—Å–∫–∞ (hypothesisIndex, timestampIndex)
    - –ú–µ—Ç–æ–¥ `getLogsByHypothesis()` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∏–Ω–¥–µ–∫—Å –≤–º–µ—Å—Ç–æ —Ñ–∏–ª—å—Ç—Ä–∞—Ü–∏–∏
    - –ú–µ—Ç–æ–¥ `getLogsByDateRange()` –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∏–Ω–¥–µ–∫—Å –ø–æ –¥–Ω—è–º
    - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø–µ—Ä–µ—Å—Ç—Ä–æ–π–∫–∞ –∏–Ω–¥–µ–∫—Å–æ–≤ –ø–æ—Å–ª–µ –æ–±—Ä–µ–∑–∫–∏ –ª–æ–≥–æ–≤
- [ ] Lazy loading –¥–ª—è –±–æ–ª—å—à–∏—Ö –ª–æ–≥–æ–≤ (–æ—Ç–ª–æ–∂–µ–Ω–æ - —Ç–µ–∫—É—â–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è –¥–æ—Å—Ç–∞—Ç–æ—á–Ω–∞)
- [ ] –°–∂–∞—Ç–∏–µ —Å—Ç–∞—Ä—ã—Ö –ª–æ–≥–æ–≤ (–æ—Ç–ª–æ–∂–µ–Ω–æ - –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –ø–æ–∑–∂–µ)

### –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å
- [ ] –ê—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è –¥–ª—è MCP —Å–µ—Ä–≤–µ—Ä–∞ (–µ—Å–ª–∏ —Ç—Ä–µ–±—É–µ—Ç—Å—è - –æ—Ç–ª–æ–∂–µ–Ω–æ)
- [ ] –í–∞–ª–∏–¥–∞—Ü–∏—è –≤—Å–µ—Ö –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö (—á–∞—Å—Ç–∏—á–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ, –º–æ–∂–Ω–æ —É–ª—É—á—à–∏—Ç—å —á–µ—Ä–µ–∑ ajv)
- [x] Sanitization HTML –≤ Dashboard ‚úÖ
  - **–§–∞–π–ª**: `src/extension.ts` (—Ñ—É–Ω–∫—Ü–∏—è `getWebviewContent`)
  - **–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ**:
    - –î–æ–±–∞–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `escapeHtml()` –¥–ª—è —ç–∫—Ä–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏—è HTML —Å–∏–º–≤–æ–ª–æ–≤
    - –í—Å–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–µ –¥–∞–Ω–Ω—ã–µ —ç–∫—Ä–∞–Ω–∏—Ä—É—é—Ç—Å—è –ø–µ—Ä–µ–¥ –≤—Å—Ç–∞–≤–∫–æ–π –≤ HTML
    - –ë–µ–∑–æ–ø–∞—Å–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –¥–∞–Ω–Ω—ã—Ö –≤ WebView Dashboard
- [x] Rate limiting per client ‚úÖ
  - **–§–∞–π–ª**: `src/extension.ts` (—Ñ—É–Ω–∫—Ü–∏—è `startServer`)
  - **–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ**:
    - Rate limiting: –º–∞–∫—Å–∏–º—É–º 100 –∑–∞–ø—Ä–æ—Å–æ–≤ –≤ –º–∏–Ω—É—Ç—É —Å –æ–¥–Ω–æ–≥–æ IP (–Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç—Å—è —á–µ—Ä–µ–∑ `rooTrace.rateLimitMaxRequests` –∏ `rooTrace.rateLimitWindowMs` –≤ VS Code Settings)
    - –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Å–±—Ä–æ—Å —Å—á–µ—Ç—á–∏–∫–∞ —á–µ—Ä–µ–∑ –æ–∫–Ω–æ –≤—Ä–µ–º–µ–Ω–∏
    - –í–æ–∑–≤—Ä–∞—Ç HTTP 429 –ø—Ä–∏ –ø—Ä–µ–≤—ã—à–µ–Ω–∏–∏ –ª–∏–º–∏—Ç–∞

### –ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å
- [x] –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –≤ MCP handlers ‚úÖ (—Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –≤ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –∑–∞–¥–∞—á–∞—Ö)
- [x] Retry –º–µ—Ö–∞–Ω–∏–∑–º—ã –¥–ª—è failed requests ‚úÖ
  - **–§–∞–π–ª**: `src/mcp-handler.ts`
  - **–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ**:
    - –ú–µ—Ç–æ–¥ `injectProbeWithRetry()` —Å –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–º –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º –ø–æ–ø—ã—Ç–æ–∫ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 3)
    - –≠–∫—Å–ø–æ–Ω–µ–Ω—Ü–∏–∞–ª—å–Ω–∞—è –∑–∞–¥–µ—Ä–∂–∫–∞ –º–µ–∂–¥—É –ø–æ–ø—ã—Ç–∫–∞–º–∏
    - –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ—à–∏–±–æ–∫ (ENOENT, EACCES, EBUSY, ETIMEDOUT, ECONNRESET)
    - Retry —Ç–æ–ª—å–∫–æ –¥–ª—è –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ—à–∏–±–æ–∫
- [x] Graceful degradation –ø—Ä–∏ —Å–±–æ—è—Ö ‚úÖ
  - **–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ**:
    - –í `deactivate()` –¥–æ–±–∞–≤–ª–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –ø—Ä–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏–∏ —Å–µ—Å—Å–∏–∏
    - –ó–∞–∫—Ä—ã—Ç–∏–µ WebSocket —Å–æ–µ–¥–∏–Ω–µ–Ω–∏–π —Å –æ–±—Ä–∞–±–æ—Ç–∫–æ–π –æ—à–∏–±–æ–∫
    - MCP unregister –Ω–µ –ø–∞–¥–∞–µ—Ç –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö
    - HTTP —Å–µ—Ä–≤–µ—Ä –ø—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –¥–∞–∂–µ –µ—Å–ª–∏ MCP —Å–µ—Ä–≤–µ—Ä –Ω–µ –∑–∞–ø—É—Å—Ç–∏–ª—Å—è
- [x] –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –æ—à–∏–±–æ–∫ ‚úÖ (—Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –≤ –≤–∞–∂–Ω—ã—Ö –∑–∞–¥–∞—á–∞—Ö)

## üìù –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- [x] API –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è ‚úÖ
  - –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã –≤—Å–µ MCP –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –≤ `docs/API.md`
  - –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω—ã HTTP endpoints
  - –î–æ–±–∞–≤–ª–µ–Ω—ã –ø—Ä–∏–º–µ—Ä—ã –∑–∞–ø—Ä–æ—Å–æ–≤ –∏ –æ—Ç–≤–µ—Ç–æ–≤
- [x] –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è ‚úÖ
  - –°–æ–∑–¥–∞–Ω `docs/USER_GUIDE.md` —Å –ø–æ–ª–Ω—ã–º —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ–º
  - –í–∫–ª—é—á–µ–Ω—ã –ø—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è, —É—Å—Ç–∞–Ω–æ–≤–∫–∞, —É—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫
- [x] –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è ‚úÖ
  - –°–æ–∑–¥–∞–Ω `docs/ARCHITECTURE.md` —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º –ñ–µ–ª–µ–∑–Ω–æ–≥–æ –º–æ—Å—Ç–∞, UUID-–º–∞—Ä–∫–µ—Ä–æ–≤, Rollback
  - –û–ø–∏—Å–∞–Ω–∞ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å MCP
- [x] –†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ —Ä–∞–∑—Ä–∞–±–æ—Ç—á–∏–∫–∞ ‚úÖ
  - –°–æ–∑–¥–∞–Ω `docs/DEVELOPER.md` —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ–± –æ—Ç–ª–∞–¥–∫–µ, —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏, –≤–∞–ª–∏–¥–∞—Ü–∏–∏ —Å–∏–Ω—Ç–∞–∫—Å–∏—Å–∞
- [x] Troubleshooting guide ‚úÖ
  - –í–∫–ª—é—á–µ–Ω –≤ `docs/USER_GUIDE.md`
  - –û–ø–∏—Å–∞–Ω—ã —Ä–µ—à–µ–Ω–∏—è –ø—Ä–æ–±–ª–µ–º —Å –∞–∫—Ç–∏–≤–∞—Ü–∏–µ–π, MCP-–∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞–º–∏, –ª–æ–≥–∞–º–∏
- [ ] –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è (—Ä–∞—Å—à–∏—Ä–∏—Ç—å)
  - –î–æ–±–∞–≤–∏—Ç—å –±–æ–ª—å—à–µ –ø—Ä–∏–º–µ—Ä–æ–≤ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å —Ä–∞–∑–ª–∏—á–Ω—ã–º–∏ —è–∑—ã–∫–∞–º–∏
- [ ] –í–∏–¥–µ–æ —Ç—É—Ç–æ—Ä–∏–∞–ª—ã (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

- [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã –¥–ª—è MCP —Å–µ—Ä–≤–µ—Ä–∞
  - **–§–∞–π–ª**: `tests/mcp-handler.test.ts` (—Å–æ–∑–¥–∞—Ç—å)
  - –¢–µ—Å—Ç—ã –¥–ª—è –≤—Å–µ—Ö MCP –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤
  - –¢–µ—Å—Ç—ã –¥–ª—è Initialize Request
  - –¢–µ—Å—Ç—ã –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –æ—à–∏–±–æ–∫
- [ ] E2E —Ç–µ—Å—Ç—ã –¥–ª—è –≤—Å–µ–≥–æ workflow
  - –¢–µ—Å—Ç: HTTP —Å–µ—Ä–≤–µ—Ä –ø–æ–ª—É—á–∞–µ—Ç –ª–æ–≥–∏ ‚Üí MCP —Å–µ—Ä–≤–µ—Ä –∏—Ö –≤–æ–∑–≤—Ä–∞—â–∞–µ—Ç
  - –¢–µ—Å—Ç: –ò–Ω—ä–µ–∫—Ü–∏—è –ø—Ä–æ–± ‚Üí –õ–æ–≥–∏ –ø–æ—è–≤–ª—è—é—Ç—Å—è ‚Üí –û—á–∏—Å—Ç–∫–∞ –ø—Ä–æ–±
- [ ] –¢–µ—Å—Ç—ã –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
  - –¢–µ—Å—Ç: –æ–±—Ä–∞–±–æ—Ç–∫–∞ –±–æ–ª—å—à–æ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –ª–æ–≥–æ–≤ (10k+)
  - –¢–µ—Å—Ç: –º–Ω–æ–∂–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–µ –∑–∞–ø—Ä–æ—Å—ã
- [ ] –¢–µ—Å—Ç—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏
  - –¢–µ—Å—Ç: –≤–∞–ª–∏–¥–∞—Ü–∏—è –≤—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö
  - –¢–µ—Å—Ç: –∑–∞—â–∏—Ç–∞ –æ—Ç XSS –≤ Dashboard
- [ ] –¢–µ—Å—Ç—ã —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏ —Å —Ä–∞–∑–Ω—ã–º–∏ –≤–µ—Ä—Å–∏—è–º–∏ VSCode
  - –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ VSCode 1.74+ (–º–∏–Ω–∏–º–∞–ª—å–Ω–∞—è –≤–µ—Ä—Å–∏—è –∏–∑ `package.json`)
