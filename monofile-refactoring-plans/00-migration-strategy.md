# –°—Ç—Ä–∞—Ç–µ–≥–∏—è –º–∏–≥—Ä–∞—Ü–∏–∏ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞ –º–æ–Ω–æ—Ñ–∞–π–ª–æ–≤

## üéØ –¶–µ–ª—å
–û–±–µ—Å–ø–µ—á–∏—Ç—å –±–µ–∑–æ–ø–∞—Å–Ω—ã–π –∏ –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ–º—ã–π –ø–µ—Ä–µ—Ö–æ–¥ –æ—Ç –º–æ–Ω–æ—Ñ–∞–π–ª–æ–≤ –∫ –º–æ–¥—É–ª—å–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–µ –±–µ–∑ –ø–æ—Ç–µ—Ä–∏ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏.

---

## üìã –ü–æ—Ä—è–¥–æ–∫ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1: `code-injector.ts` (–Ω–∞–∏–º–µ–Ω—å—à–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏)
**–ü–æ—á–µ–º—É –ø–µ—Ä–≤—ã–º:**
- –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç –¥—Ä—É–≥–∏—Ö –º–æ–¥—É–ª–µ–π
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ `mcp-handler.ts` –∏ `extension.ts`
- –ü–æ—Å–ª–µ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞ —É–ø—Ä–æ—Å—Ç–∏—Ç —Ä–∞–±–æ—Ç—É —Å –æ—Å—Ç–∞–ª—å–Ω—ã–º–∏ —Ñ–∞–π–ª–∞–º–∏

**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**
- ‚úÖ `utils/` - —É–∂–µ –≥–æ—Ç–æ–≤—ã
- ‚úÖ `encryption-utils.ts` - –≥–æ—Ç–æ–≤
- ‚úÖ `file-lock-utils.ts` - –≥–æ—Ç–æ–≤

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 2: `mcp-handler.ts` (–∑–∞–≤–∏—Å–∏—Ç –æ—Ç code-injector)
**–ü–æ—á–µ–º—É –≤—Ç–æ—Ä—ã–º:**
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç —Ñ—É–Ω–∫—Ü–∏–∏ –∏–∑ `code-injector.ts`
- –ü–æ—Å–ª–µ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞ `code-injector.ts` –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–æ–≤—ã–µ –º–æ–¥—É–ª–∏
- –ö—Ä–∏—Ç–∏—á–µ–Ω –¥–ª—è MCP –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**
- ‚úÖ `utils/` - —É–∂–µ –≥–æ—Ç–æ–≤—ã
- ‚è≥ `code-injector/` - –±—É–¥–µ—Ç –≥–æ—Ç–æ–≤ –ø–æ—Å–ª–µ –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞ 1
- ‚úÖ `shared-log-storage.ts` - –≥–æ—Ç–æ–≤
- ‚úÖ `rules-loader.ts` - –≥–æ—Ç–æ–≤

### –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 3: `extension.ts` (–∑–∞–≤–∏—Å–∏—Ç –æ—Ç –æ–±–æ–∏—Ö)
**–ü–æ—á–µ–º—É –ø–æ—Å–ª–µ–¥–Ω–∏–º:**
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç —Ñ—É–Ω–∫—Ü–∏–∏ –∏–∑ `code-injector.ts` –∏ `mcp-handler.ts`
- –ü–æ—Å–ª–µ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞ –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö —Ñ–∞–π–ª–æ–≤ –±—É–¥–µ—Ç –ø—Ä–æ—â–µ
- –°–∞–º–∞—è –±–æ–ª—å—à–∞—è —Å–ª–æ–∂–Ω–æ—Å—Ç—å - –º–Ω–æ–≥–æ –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–µ–π

**–ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**
- ‚úÖ `utils/` - —É–∂–µ –≥–æ—Ç–æ–≤—ã
- ‚è≥ `code-injector/` - –±—É–¥–µ—Ç –≥–æ—Ç–æ–≤ –ø–æ—Å–ª–µ –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞ 1
- ‚è≥ `mcp-handler/` - –±—É–¥–µ—Ç –≥–æ—Ç–æ–≤ –ø–æ—Å–ª–µ –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞ 2
- ‚úÖ `shared-log-storage.ts` - –≥–æ—Ç–æ–≤

---

## üîÑ –°—Ç—Ä–∞—Ç–µ–≥–∏—è –º–∏–≥—Ä–∞—Ü–∏–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ñ–∞–π–ª–∞

### –û–±—â–∏–π –ø–æ–¥—Ö–æ–¥: "Parallel Implementation"

–î–ª—è –∫–∞–∂–¥–æ–≥–æ –º–æ–Ω–æ—Ñ–∞–π–ª–∞:

1. **–°–æ–∑–¥–∞—Ç—å –Ω–æ–≤—É—é —Å—Ç—Ä—É–∫—Ç—É—Ä—É –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ**
   - –°–æ–∑–¥–∞—Ç—å –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é `src/{module-name}/`
   - –°–æ–∑–¥–∞—Ç—å –≤—Å–µ –Ω–æ–≤—ã–µ –º–æ–¥—É–ª–∏
   - –ù–ï —É–¥–∞–ª—è—Ç—å —Å—Ç–∞—Ä—ã–π —Ñ–∞–π–ª

2. **–ú–∏–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏—é –∑–∞ —Ñ—É–Ω–∫—Ü–∏–µ–π**
   - –ù–∞—á–∞—Ç—å —Å —Å–∞–º—ã—Ö –ø—Ä–æ—Å—Ç—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π (—É—Ç–∏–ª–∏—Ç—ã)
   - –ó–∞—Ç–µ–º –ø–µ—Ä–µ–π—Ç–∏ –∫ –æ—Å–Ω–æ–≤–Ω—ã–º —Ñ—É–Ω–∫—Ü–∏—è–º
   - –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –∏–∑ –Ω–æ–≤–æ–≥–æ –º–æ–¥—É–ª—è
   - –ò–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å –≤ —Å—Ç–∞—Ä—ã–π —Ñ–∞–π–ª –∫–∞–∫ –≤—Ä–µ–º–µ–Ω–Ω—É—é –º–µ—Ä—É

3. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–π –º–∏–≥—Ä–∞—Ü–∏–∏**
   - Unit-—Ç–µ—Å—Ç—ã –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –Ω–æ–≤–æ–≥–æ –º–æ–¥—É–ª—è
   - –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏—è
   - E2E —Ç–µ—Å—Ç—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–æ–ª–Ω–æ–≥–æ —Ü–∏–∫–ª–∞

4. **–ü–æ—Å—Ç–µ–ø–µ–Ω–Ω–∞—è –∑–∞–º–µ–Ω–∞**
   - –û–±–Ω–æ–≤–∏—Ç—å –∏–º–ø–æ—Ä—Ç—ã –≤ –∑–∞–≤–∏—Å–∏–º—ã—Ö —Ñ–∞–π–ª–∞—Ö
   - –ó–∞–º–µ–Ω–∏—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —Å—Ç–∞—Ä—ã—Ö —Ñ—É–Ω–∫—Ü–∏–π –Ω–∞ –Ω–æ–≤—ã–µ
   - –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –≤—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç

5. **–£–¥–∞–ª–∏—Ç—å —Å—Ç–∞—Ä—ã–π –∫–æ–¥ —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ –ø–æ–ª–Ω–æ–π –º–∏–≥—Ä–∞—Ü–∏–∏**
   - –ö–æ–≥–¥–∞ –≤—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ –º–∏–≥—Ä–∏—Ä–æ–≤–∞–Ω—ã
   - –ö–æ–≥–¥–∞ –≤—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç
   - –ö–æ–≥–¥–∞ –∫–æ–¥ —Ä–µ–≤—å—é –ø—Ä–æ–π–¥–µ–Ω
   - –°–æ–∑–¥–∞—Ç—å –∫–æ–º–º–∏—Ç "Remove legacy code"

---

## üìê –î–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è –¥–ª—è code-injector.ts

### –≠—Ç–∞–ø 1: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ (1 –¥–µ–Ω—å)
- [x] –°–æ–∑–¥–∞—Ç—å —Å—Ç—Ä—É–∫—Ç—É—Ä—É `src/code-injector/`
- [ ] –°–æ–∑–¥–∞—Ç—å `types.ts` —Å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞–º–∏
- [ ] –°–æ–∑–¥–∞—Ç—å `tool-schemas.ts` (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ)

### –≠—Ç–∞–ø 2: –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–æ–≤ (3-4 –¥–Ω—è)
**–ü–æ–¥—Ö–æ–¥:**
1. –°–æ–∑–¥–∞—Ç—å `generators/probe-code-generator.ts` —Å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–º:
```typescript
export interface ProbeCodeGenerator {
  /**
   * –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –∫–æ–¥ –ø—Ä–æ–±—ã –¥–ª—è —É–∫–∞–∑–∞–Ω–Ω–æ–≥–æ —è–∑—ã–∫–∞
   */
  generate(
    language: string,
    probeType: 'log' | 'trace' | 'error',
    message: string,
    serverUrl: string,
    hypothesisId?: string
  ): string | null;
  
  /**
   * –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ —è–∑—ã–∫–∏
   */
  readonly supportedLanguages: string[];
}
```

2. –°–æ–∑–¥–∞—Ç—å —Ñ–∞–±—Ä–∏–∫—É –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–æ–≤:
```typescript
export class ProbeCodeGeneratorFactory {
  private static generators = new Map<string, ProbeCodeGenerator>();
  
  static register(language: string, generator: ProbeCodeGenerator): void {
    this.generators.set(language.toLowerCase(), generator);
  }
  
  static get(language: string): ProbeCodeGenerator | null {
    return this.generators.get(language.toLowerCase()) || null;
  }
}
```

3. –°–æ–∑–¥–∞—Ç—å –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä—ã –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —è–∑—ã–∫–∞ (–º–æ–∂–Ω–æ –≥—Ä—É–ø–ø–∏—Ä–æ–≤–∞—Ç—å –ø–æ—Ö–æ–∂–∏–µ)
4. –û–±–Ω–æ–≤–∏—Ç—å `generateProbeCode()` –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ñ–∞–±—Ä–∏–∫–∏
5. –¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –∫–∞–∂–¥—ã–π –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏:**
- –í—Å–µ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä—ã —Å–æ–∑–¥–∞–Ω—ã –∏ –∑–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞–Ω—ã
- Unit-—Ç–µ—Å—Ç—ã –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞ –ø—Ä–æ—Ö–æ–¥—è—Ç
- `generateProbeCode()` —Ä–∞–±–æ—Ç–∞–µ—Ç —á–µ—Ä–µ–∑ —Ñ–∞–±—Ä–∏–∫—É
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç

### –≠—Ç–∞–ø 3: –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –≤–∞–ª–∏–¥–∞—Ç–æ—Ä–æ–≤ (2-3 –¥–Ω—è)
**–ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞–º:**
1. –°–æ–∑–¥–∞—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å `SyntaxValidator`
2. –°–æ–∑–¥–∞—Ç—å —Ñ–∞–±—Ä–∏–∫—É –≤–∞–ª–∏–¥–∞—Ç–æ—Ä–æ–≤
3. –°–æ–∑–¥–∞—Ç—å –≤–∞–ª–∏–¥–∞—Ç–æ—Ä—ã –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —è–∑—ã–∫–∞
4. –û–±–Ω–æ–≤–∏—Ç—å `validateSyntax()`

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏:**
- –í—Å–µ –≤–∞–ª–∏–¥–∞—Ç–æ—Ä—ã —Å–æ–∑–¥–∞–Ω—ã
- Unit-—Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç
- Rollback –º–µ—Ö–∞–Ω–∏–∑–º —Ä–∞–±–æ—Ç–∞–µ—Ç
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç

### –≠—Ç–∞–ø 4: –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ core –ª–æ–≥–∏–∫–∏ (2-3 –¥–Ω—è)
1. –°–æ–∑–¥–∞—Ç—å `probe-registry.ts`
2. –°–æ–∑–¥–∞—Ç—å `probe-injector.ts`
3. –°–æ–∑–¥–∞—Ç—å `probe-remover.ts`
4. –û–±–Ω–æ–≤–∏—Ç—å –æ—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–π–ª –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –Ω–æ–≤—ã—Ö –º–æ–¥—É–ª–µ–π

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏:**
- –í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ –º–∏–≥—Ä–∏—Ä–æ–≤–∞–Ω—ã
- –†–µ–µ—Å—Ç—Ä –ø—Ä–æ–± —Ä–∞–±–æ—Ç–∞–µ—Ç
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç
- E2E —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç

### –≠—Ç–∞–ø 5: –§–∏–Ω–∞–ª—å–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞ (1 –¥–µ–Ω—å)
1. –£–¥–∞–ª–∏—Ç—å —Å—Ç–∞—Ä—ã–π –∫–æ–¥ –∏–∑ `code-injector.ts`
2. –û—Å—Ç–∞–≤–∏—Ç—å —Ç–æ–ª—å–∫–æ —Ä–µ—ç–∫—Å–ø–æ—Ä—Ç—ã –∏–ª–∏ –∫–æ–æ—Ä–¥–∏–Ω–∞—Ü–∏—é
3. –û–±–Ω–æ–≤–∏—Ç—å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é

---

## üìê –î–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è –¥–ª—è mcp-handler.ts

### –≠—Ç–∞–ø 1: –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ (4-5 –¥–Ω–µ–π)
**–ü–æ–¥—Ö–æ–¥:**
1. –°–æ–∑–¥–∞—Ç—å –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å `ToolHandler`:
```typescript
export interface ToolHandler {
  /**
   * –û–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –≤—ã–∑–æ–≤ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞
   */
  handle(
    args: Record<string, any>,
    context: ToolHandlerContext
  ): Promise<CallToolResult>;
  
  /**
   * –í–∞–ª–∏–¥–∏—Ä—É–µ—Ç –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞
   */
  validate(args: Record<string, any>): ValidationResult;
}
```

2. –°–æ–∑–¥–∞—Ç—å –±–∞–∑–æ–≤—ã–π –∫–ª–∞—Å—Å `BaseToolHandler`
3. –°–æ–∑–¥–∞—Ç—å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞
4. –°–æ–∑–¥–∞—Ç—å `tool-registry.ts` –¥–ª—è —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏–∏
5. –û–±–Ω–æ–≤–∏—Ç—å `CallToolRequestSchema` –æ–±—Ä–∞–±–æ—Ç—á–∏–∫

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏:**
- –í—Å–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –∏–º–µ—é—Ç –æ–±—Ä–∞–±–æ—Ç—á–∏–∫–∏
- –í–∞–ª–∏–¥–∞—Ü–∏—è –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤ —Ä–∞–±–æ—Ç–∞–µ—Ç
- Unit-—Ç–µ—Å—Ç—ã –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç

### –≠—Ç–∞–ø 2: –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ (2 –¥–Ω—è)
1. –°–æ–∑–¥–∞—Ç—å `validation/tool-validator.ts`
2. –°–æ–∑–¥–∞—Ç—å `validation/file-safety-checker.ts`
3. –°–æ–∑–¥–∞—Ç—å `validation/approval-checker.ts`
4. –û–±–Ω–æ–≤–∏—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏:**
- –í—Å–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ —Ä–∞–±–æ—Ç–∞—é—Ç
- Unit-—Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç

### –≠—Ç–∞–ø 3: –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –æ—Å—Ç–∞–ª—å–Ω—ã—Ö –º–æ–¥—É–ª–µ–π (3-4 –¥–Ω—è)
1. –†–µ—Å—É—Ä—Å—ã
2. –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏
3. Retry –º–µ—Ö–∞–Ω–∏–∑–º—ã
4. –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏:**
- –í—Å–µ –º–æ–¥—É–ª–∏ —Å–æ–∑–¥–∞–Ω—ã
- –¢–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç
- –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞

---

## üìê –î–µ—Ç–∞–ª—å–Ω–∞—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è –¥–ª—è extension.ts

### –≠—Ç–∞–ø 1: –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ HTTP —Å–µ—Ä–≤–µ—Ä–∞ (3-4 –¥–Ω—è)
1. –°–æ–∑–¥–∞—Ç—å `server/http-server.ts`
2. –°–æ–∑–¥–∞—Ç—å `server/server-handlers.ts`
3. –°–æ–∑–¥–∞—Ç—å `server/rate-limiter.ts`
4. –û–±–Ω–æ–≤–∏—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏:**
- HTTP —Å–µ—Ä–≤–µ—Ä —Ä–∞–±–æ—Ç–∞–µ—Ç –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω–Ω–æ
- –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã
- Rate limiting —Ä–∞–±–æ—Ç–∞–µ—Ç
- –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç

### –≠—Ç–∞–ø 2: –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ Dashboard (2-3 –¥–Ω—è)
1. –°–æ–∑–¥–∞—Ç—å `dashboard/dashboard-manager.ts`
2. –°–æ–∑–¥–∞—Ç—å `dashboard/dashboard-html.ts`
3. –°–æ–∑–¥–∞—Ç—å `dashboard/dashboard-message-handler.ts`
4. –û–±–Ω–æ–≤–∏—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏:**
- Dashboard –æ—Ç–∫—Ä—ã–≤–∞–µ—Ç—Å—è
- –°–æ–æ–±—â–µ–Ω–∏—è –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è
- –¢–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç

### –≠—Ç–∞–ø 3: –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥ (2 –¥–Ω—è)
1. –°–æ–∑–¥–∞—Ç—å `commands/command-registry.ts`
2. –°–æ–∑–¥–∞—Ç—å –æ–±—Ä–∞–±–æ—Ç—á–∏–∫ –¥–ª—è –∫–∞–∂–¥–æ–π –∫–æ–º–∞–Ω–¥—ã
3. –û–±–Ω–æ–≤–∏—Ç—å —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—é

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏:**
- –í—Å–µ –∫–æ–º–∞–Ω–¥—ã —Ä–∞–±–æ—Ç–∞—é—Ç
- –¢–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç

### –≠—Ç–∞–ø 4: –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –æ—Å—Ç–∞–ª—å–Ω—ã—Ö –º–æ–¥—É–ª–µ–π (2-3 –¥–Ω—è)
1. –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
2. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
3. UI Bridge
4. WebSocket

**–ö—Ä–∏—Ç–µ—Ä–∏–∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏:**
- –í—Å–µ –º–æ–¥—É–ª–∏ —Ä–∞–±–æ—Ç–∞—é—Ç
- –¢–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç
- –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∞

---

## ‚úÖ –ö—Ä–∏—Ç–µ—Ä–∏–∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ –∫ —Å–ª–µ–¥—É—é—â–µ–º—É —ç—Ç–∞–ø—É

### –û–±—â–∏–µ –∫—Ä–∏—Ç–µ—Ä–∏–∏:
1. ‚úÖ –í—Å–µ —Ç–µ—Å—Ç—ã –ø—Ä–æ—Ö–æ–¥—è—Ç (unit + integration + e2e)
2. ‚úÖ –ù–µ—Ç —Ä–µ–≥—Ä–µ—Å—Å–∏–π (–≤—Å–µ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç)
3. ‚úÖ –ö–æ–¥ —Ä–µ–≤—å—é –ø—Ä–æ–π–¥–µ–Ω
4. ‚úÖ –õ–∏–Ω—Ç–µ—Ä –Ω–µ –Ω–∞—Ö–æ–¥–∏—Ç –æ—à–∏–±–æ–∫
5. ‚úÖ –ö–æ–º–ø–∏–ª—è—Ü–∏—è —É—Å–ø–µ—à–Ω–∞
6. ‚úÖ –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –æ–±–Ω–æ–≤–ª–µ–Ω–∞

### –°–ø–µ—Ü–∏—Ñ–∏—á–Ω—ã–µ –∫—Ä–∏—Ç–µ—Ä–∏–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —ç—Ç–∞–ø–∞:
- **–ü–æ—Å–ª–µ –∏–∑–≤–ª–µ—á–µ–Ω–∏—è –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–æ–≤**: –ú–æ–∂–Ω–æ –≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å –ø—Ä–æ–±—ã –¥–ª—è –≤—Å–µ—Ö —è–∑—ã–∫–æ–≤
- **–ü–æ—Å–ª–µ –∏–∑–≤–ª–µ—á–µ–Ω–∏—è –≤–∞–ª–∏–¥–∞—Ç–æ—Ä–æ–≤**: Rollback —Ä–∞–±–æ—Ç–∞–µ—Ç –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö
- **–ü–æ—Å–ª–µ –∏–∑–≤–ª–µ—á–µ–Ω–∏—è –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤**: –í—Å–µ MCP –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã —Ä–∞–±–æ—Ç–∞—é—Ç
- **–ü–æ—Å–ª–µ –∏–∑–≤–ª–µ—á–µ–Ω–∏—è HTTP —Å–µ—Ä–≤–µ—Ä–∞**: –°–µ—Ä–≤–µ—Ä –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –∑–∞–ø—Ä–æ—Å—ã

---

## üß™ –°—Ç—Ä–∞—Ç–µ–≥–∏—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### Unit-—Ç–µ—Å—Ç—ã –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –º–æ–¥—É–ª—è:
- [ ] `probe-injector.test.ts` - —Ç–µ—Å—Ç—ã –∏–Ω—ä–µ–∫—Ü–∏–∏
- [ ] `probe-registry.test.ts` - —Ç–µ—Å—Ç—ã —Ä–µ–µ—Å—Ç—Ä–∞
- [ ] `python-generator.test.ts` - —Ç–µ—Å—Ç—ã –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞ Python
- [ ] `javascript-generator.test.ts` - —Ç–µ—Å—Ç—ã –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–∞ JS
- [ ] `python-validator.test.ts` - —Ç–µ—Å—Ç—ã –≤–∞–ª–∏–¥–∞—Ç–æ—Ä–∞ Python
- [ ] `read-runtime-logs-tool.test.ts` - —Ç–µ—Å—Ç—ã –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞
- [ ] `inject-probes-tool.test.ts` - —Ç–µ—Å—Ç—ã –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞
- [ ] `http-server.test.ts` - —Ç–µ—Å—Ç—ã HTTP —Å–µ—Ä–≤–µ—Ä–∞
- [ ] `dashboard-manager.test.ts` - —Ç–µ—Å—Ç—ã Dashboard

### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã:
- [ ] `code-injector.integration.test.ts` - –ø–æ–ª–Ω—ã–π —Ü–∏–∫–ª –∏–Ω—ä–µ–∫—Ü–∏–∏
- [ ] `mcp-handler.integration.test.ts` - –ø–æ–ª–Ω—ã–π —Ü–∏–∫–ª MCP –∑–∞–ø—Ä–æ—Å–æ–≤
- [ ] `extension.integration.test.ts` - –ø–æ–ª–Ω—ã–π —Ü–∏–∫–ª —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è
- [ ] `cross-module.test.ts` - –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤–∏–µ –º–æ–¥—É–ª–µ–π

### E2E —Ç–µ—Å—Ç—ã:
- [ ] `e2e-probe-injection.test.ts` - –∏–Ω—ä–µ–∫—Ü–∏—è ‚Üí –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ ‚Üí –ª–æ–≥–∏
- [ ] `e2e-mcp-workflow.test.ts` - –ø–æ–ª–Ω—ã–π MCP workflow
- [ ] `e2e-extension-workflow.test.ts` - –ø–æ–ª–Ω—ã–π workflow —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è

### –ú–æ–∫–∏:
- [ ] `vscode-api.mock.ts` - –º–æ–∫ VS Code API
- [ ] `file-system.mock.ts` - –º–æ–∫ —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã
- [ ] `http-server.mock.ts` - –º–æ–∫ HTTP —Å–µ—Ä–≤–µ—Ä–∞

### –ö—Ä–∏—Ç–µ—Ä–∏–∏ –ø–æ–∫—Ä—ã—Ç–∏—è:
- **Unit-—Ç–µ—Å—Ç—ã**: >80% –ø–æ–∫—Ä—ã—Ç–∏—è –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –º–æ–¥—É–ª—è
- **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã**: –í—Å–µ –∫—Ä–∏—Ç–∏—á–Ω—ã–µ –ø—É—Ç–∏ –ø–æ–∫—Ä—ã—Ç—ã
- **E2E —Ç–µ—Å—Ç—ã**: –í—Å–µ –æ—Å–Ω–æ–≤–Ω—ã–µ —Å—Ü–µ–Ω–∞—Ä–∏–∏ –ø–æ–∫—Ä—ã—Ç—ã

---

## üîÑ –°—Ç—Ä–∞—Ç–µ–≥–∏—è –æ–±—Ä–∞—Ç–Ω–æ–π —Å–æ–≤–º–µ—Å—Ç–∏–º–æ—Å—Ç–∏

### –ü–æ–¥—Ö–æ–¥: "Backward Compatible Exports"

1. **–í—Ä–µ–º–µ–Ω–Ω—ã–µ —Ä–µ—ç–∫—Å–ø–æ—Ä—Ç—ã –≤ —Å—Ç–∞—Ä–æ–º —Ñ–∞–π–ª–µ:**
```typescript
// code-injector.ts (–ø–æ—Å–ª–µ –º–∏–≥—Ä–∞—Ü–∏–∏)
export { injectProbe } from './code-injector/core/probe-injector';
export { removeProbe } from './code-injector/core/probe-remover';
export { generateProbeCode } from './code-injector/generators/probe-code-generator';
// ... –æ—Å—Ç–∞–ª—å–Ω—ã–µ —ç–∫—Å–ø–æ—Ä—Ç—ã
```

2. **–ü–æ—Å—Ç–µ–ø–µ–Ω–Ω–∞—è –º–∏–≥—Ä–∞—Ü–∏—è –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π:**
- –°–Ω–∞—á–∞–ª–∞ –æ–±–Ω–æ–≤–∏—Ç—å `mcp-handler.ts` –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –Ω–æ–≤—ã—Ö –º–æ–¥—É–ª–µ–π
- –ó–∞—Ç–µ–º –æ–±–Ω–æ–≤–∏—Ç—å `extension.ts`
- –ó–∞—Ç–µ–º –æ–±–Ω–æ–≤–∏—Ç—å —Ç–µ—Å—Ç—ã
- –í –∫–æ–Ω—Ü–µ —É–¥–∞–ª–∏—Ç—å —Ä–µ—ç–∫—Å–ø–æ—Ä—Ç—ã

3. **–í–µ—Ä—Å–∏–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ (–µ—Å–ª–∏ –Ω—É–∂–Ω–æ):**
- –ï—Å–ª–∏ –µ—Å—Ç—å –≤–Ω–µ—à–Ω–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏, –º–æ–∂–Ω–æ –æ—Å—Ç–∞–≤–∏—Ç—å —Å—Ç–∞—Ä—ã–µ —ç–∫—Å–ø–æ—Ä—Ç—ã —Å deprecation warning

---

## ‚ö†Ô∏è –†–∏—Å–∫–∏ –∏ –º–∏—Ç–∏–≥–∞—Ü–∏—è

### –†–∏—Å–∫ 1: –ù–∞—Ä—É—à–µ–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏
**–ú–∏—Ç–∏–≥–∞—Ü–∏—è:**
- –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ —ç—Ç–∞–ø–∞
- Code review –ø–µ—Ä–µ–¥ –∫–∞–∂–¥—ã–º –∫–æ–º–º–∏—Ç–æ–º
- –û—Ç–∫–∞—Ç –Ω–∞ –ø—Ä–µ–¥—ã–¥—É—â–∏–π –∫–æ–º–º–∏—Ç –ø—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö

### –†–∏—Å–∫ 2: –¶–∏–∫–ª–∏—á–µ—Å–∫–∏–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
**–ú–∏—Ç–∏–≥–∞—Ü–∏—è:**
- –¢—â–∞—Ç–µ–ª—å–Ω–æ–µ –ø—Ä–æ–µ–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ dependency injection
- –ò–∑–±–µ–≥–∞–Ω–∏–µ –∏–º–ø–æ—Ä—Ç–æ–≤ –º–µ–∂–¥—É –º–æ–¥—É–ª—è–º–∏ –æ–¥–Ω–æ–≥–æ —É—Ä–æ–≤–Ω—è

### –†–∏—Å–∫ 3: –ü—Ä–æ–±–ª–µ–º—ã —Å –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å—é
**–ú–∏—Ç–∏–≥–∞—Ü–∏—è:**
- –ë–µ–Ω—á–º–∞—Ä–∫–∏ –¥–æ –∏ –ø–æ—Å–ª–µ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞
- –ü—Ä–æ—Ñ–∏–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö –ø—É—Ç–µ–π
- –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–∏ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏

### –†–∏—Å–∫ 4: –°–ª–æ–∂–Ω–æ—Å—Ç—å –æ—Ç–ª–∞–¥–∫–∏
**–ú–∏—Ç–∏–≥–∞—Ü–∏—è:**
- –î–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –Ω–∞ –∫–∞–∂–¥–æ–º —ç—Ç–∞–ø–µ
- –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ stack traces
- –ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã –¥–ª—è —Ç—Ä–∞—Å—Å–∏—Ä–æ–≤–∫–∏

---

## üìä –ú–µ—Ç—Ä–∏–∫–∏ —É—Å–ø–µ—Ö–∞

### –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –º–µ—Ç—Ä–∏–∫–∏:
- ‚úÖ –†–∞–∑–º–µ—Ä –æ—Å–Ω–æ–≤–Ω–æ–≥–æ —Ñ–∞–π–ª–∞: < 200 —Å—Ç—Ä–æ–∫ (—Å–µ–π—á–∞—Å ~2000)
- ‚úÖ –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –º–æ–¥—É–ª–µ–π: ~25-35 —Ñ–∞–π–ª–æ–≤
- ‚úÖ –ü–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–∞–º–∏: > 80%
- ‚úÖ –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è —Ç–µ—Å—Ç–æ–≤: –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π –∏–ª–∏ —É–ª—É—á—à–µ–Ω–∏–µ
- ‚úÖ –í—Ä–µ–º—è –∫–æ–º–ø–∏–ª—è—Ü–∏–∏: –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π –∏–ª–∏ —É–ª—É—á—à–µ–Ω–∏–µ

### –ö–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏:
- ‚úÖ –£–ø—Ä–æ—â–µ–Ω–∏–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –Ω–æ–≤—ã—Ö —è–∑—ã–∫–æ–≤ (1 —Ñ–∞–π–ª –≤–º–µ—Å—Ç–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è –±–æ–ª—å—à–æ–≥–æ)
- ‚úÖ –£–ø—Ä–æ—â–µ–Ω–∏–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏—è –Ω–æ–≤—ã—Ö –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ (1 —Ñ–∞–π–ª –≤–º–µ—Å—Ç–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è –±–æ–ª—å—à–æ–≥–æ)
- ‚úÖ –£–ª—É—á—à–µ–Ω–∏–µ —á–∏—Ç–∞–µ–º–æ—Å—Ç–∏ –∫–æ–¥–∞
- ‚úÖ –£–ª—É—á—à–µ–Ω–∏–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º–æ—Å—Ç–∏

---

## üéØ –ò—Ç–æ–≥–æ–≤—ã–π –ø–ª–∞–Ω

### –§–∞–∑–∞ 1: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ (–∑–∞–≤–µ—Ä—à–µ–Ω–æ ‚úÖ)
- [x] –°–æ–∑–¥–∞—Ç—å –æ–±—â–∏–µ —É—Ç–∏–ª–∏—Ç—ã (`src/utils/`)
- [x] –ú–∏–≥—Ä–∏—Ä–æ–≤–∞—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Ñ–∞–π–ª—ã –Ω–∞ —É—Ç–∏–ª–∏—Ç—ã
- [x] –û–±–Ω–æ–≤–∏—Ç—å –ø–ª–∞–Ω—ã —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞

### –§–∞–∑–∞ 2: –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ code-injector.ts (18-25 –¥–Ω–µ–π)
- [ ] –≠—Ç–∞–ø 1: –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ (1 –¥–µ–Ω—å)
- [ ] –≠—Ç–∞–ø 2: –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —Ç–∏–ø–æ–≤ (0.5 –¥–Ω—è) ‚úÖ –ß–∞—Å—Ç–∏—á–Ω–æ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ
- [ ] –≠—Ç–∞–ø 3: –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –≥–µ–Ω–µ—Ä–∞—Ç–æ—Ä–æ–≤ (3-4 –¥–Ω—è)
- [ ] –≠—Ç–∞–ø 4: –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –≤–∞–ª–∏–¥–∞—Ç–æ—Ä–æ–≤ (2-3 –¥–Ω—è)
- [ ] –≠—Ç–∞–ø 5: –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ host detection (1 –¥–µ–Ω—å)
- [ ] –≠—Ç–∞–ø 6: –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ positioning (1-2 –¥–Ω—è)
- [ ] –≠—Ç–∞–ø 7: –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ core –ª–æ–≥–∏–∫–∏ (2 –¥–Ω—è)
- [ ] –≠—Ç–∞–ø 8: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (3-4 –¥–Ω—è)
- [ ] –≠—Ç–∞–ø 9: –§–∏–Ω–∞–ª—å–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞ (1 –¥–µ–Ω—å)

### –§–∞–∑–∞ 3: –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ mcp-handler.ts (22-30 –¥–Ω–µ–π)
- [ ] –≠—Ç–∞–ø 1: –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ (4-5 –¥–Ω–µ–π)
- [ ] –≠—Ç–∞–ø 2: –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ (2 –¥–Ω—è)
- [ ] –≠—Ç–∞–ø 3: –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —Ä–µ—Å—É—Ä—Å–æ–≤ (1 –¥–µ–Ω—å)
- [ ] –≠—Ç–∞–ø 4: –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–π (1 –¥–µ–Ω—å)
- [ ] –≠—Ç–∞–ø 5: –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ retry (1 –¥–µ–Ω—å)
- [ ] –≠—Ç–∞–ø 6: –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ (1 –¥–µ–Ω—å)
- [ ] –≠—Ç–∞–ø 7: –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è (0.5 –¥–Ω—è)
- [ ] –≠—Ç–∞–ø 8: –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ core (2 –¥–Ω—è)
- [ ] –≠—Ç–∞–ø 9: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (4-5 –¥–Ω–µ–π)
- [ ] –≠—Ç–∞–ø 10: –§–∏–Ω–∞–ª—å–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞ (1 –¥–µ–Ω—å)

### –§–∞–∑–∞ 4: –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ extension.ts (22-30 –¥–Ω–µ–π)
- [ ] –≠—Ç–∞–ø 1: –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ HTTP —Å–µ—Ä–≤–µ—Ä–∞ (3-4 –¥–Ω—è)
- [ ] –≠—Ç–∞–ø 2: –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ Dashboard (2-3 –¥–Ω—è)
- [ ] –≠—Ç–∞–ø 3: –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥ (2 –¥–Ω—è)
- [ ] –≠—Ç–∞–ø 4: –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è (1 –¥–µ–Ω—å)
- [ ] –≠—Ç–∞–ø 5: –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ (1 –¥–µ–Ω—å)
- [ ] –≠—Ç–∞–ø 6: –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ UI Bridge (1 –¥–µ–Ω—å)
- [ ] –≠—Ç–∞–ø 7: –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ WebSocket (1 –¥–µ–Ω—å)
- [ ] –≠—Ç–∞–ø 8: –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–π (1 –¥–µ–Ω—å)
- [ ] –≠—Ç–∞–ø 9: –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –ø—Ä–æ–º–ø—Ç–æ–≤ (0.5 –¥–Ω—è)
- [ ] –≠—Ç–∞–ø 10: –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ (4-5 –¥–Ω–µ–π)
- [ ] –≠—Ç–∞–ø 11: –§–∏–Ω–∞–ª—å–Ω–∞—è –æ—á–∏—Å—Ç–∫–∞ (1 –¥–µ–Ω—å)

**–û–±—â–µ–µ –≤—Ä–µ–º—è: 62-85 –¥–Ω–µ–π (3-4 –º–µ—Å—è—Ü–∞)**

---

## üìù –ß–µ–∫–ª–∏—Å—Ç –ø–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º –∫–∞–∂–¥–æ–≥–æ —ç—Ç–∞–ø–∞

- [ ] –í—Å–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –≥–æ—Ç–æ–≤—ã
- [ ] –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –æ–ø—Ä–µ–¥–µ–ª–µ–Ω—ã
- [ ] –ü–ª–∞–Ω —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –≥–æ—Ç–æ–≤
- [ ] –ö—Ä–∏—Ç–µ—Ä–∏–∏ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω—ã
- [ ] Code review –ø–ª–∞–Ω –≥–æ—Ç–æ–≤
- [ ] –°—Ç—Ä–∞—Ç–µ–≥–∏—è –æ—Ç–∫–∞—Ç–∞ –≥–æ—Ç–æ–≤–∞

---

## üöÄ –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. **–ó–∞–≤–µ—Ä—à–∏—Ç—å –≠—Ç–∞–ø 0**: –£–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –≤—Å–µ —É—Ç–∏–ª–∏—Ç—ã –≥–æ—Ç–æ–≤—ã –∏ –∏—Å–ø–æ–ª—å–∑—É—é—Ç—Å—è
2. **–û–±–Ω–æ–≤–∏—Ç—å –ø–ª–∞–Ω—ã**: –£–±—Ä–∞—Ç—å –¥—É–±–ª–∏—Ä—É—é—â–∏–µ—Å—è —É—Ç–∏–ª–∏—Ç—ã, –¥–æ–±–∞–≤–∏—Ç—å –¥–µ—Ç–∞–ª–∏–∑–∞—Ü–∏—é –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–æ–≤
3. **–ù–∞—á–∞—Ç—å –§–∞–∑—É 2**: –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ `code-injector.ts` –ø–æ —ç—Ç–∞–ø–∞–º
4. **–¢–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ –∫–∞–∂–¥–æ–º —ç—Ç–∞–ø–µ**: –ù–µ –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç—å –∫ —Å–ª–µ–¥—É—é—â–µ–º—É –±–µ–∑ –ø—Ä–æ—Ö–æ–∂–¥–µ–Ω–∏—è —Ç–µ—Å—Ç–æ–≤
5. **Code review**: –ü–æ—Å–ª–µ –∫–∞–∂–¥–æ–≥–æ —ç—Ç–∞–ø–∞ –ø–µ—Ä–µ–¥ –∫–æ–º–º–∏—Ç–æ–º
