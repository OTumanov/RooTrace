# üö® PHASE 0.4: PRE-FLIGHT CHECK

**üö® –ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û:** –≠—Ç–æ –ù–ï –¥–µ–ª–µ–≥–∏—Ä—É–µ—Ç—Å—è. –≠—Ç–æ –ø—Ä—è–º–∞—è –æ–±—è–∑–∞–Ω–Ω–æ—Å—Ç—å RooTrace –∫–∞–∫ –∏–Ω–∂–µ–Ω–µ—Ä–∞. –í—Å–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –≤—ã–ø–æ–ª–Ω—è—é—Ç—Å—è RooTrace –Ω–∞–ø—Ä—è–º—É—é, –ù–ï —á–µ—Ä–µ–∑ –¥–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ.

**–í–´–ü–û–õ–ù–Ø–ï–¢–°–Ø:** –ü–û–°–õ–ï —Ä–∞–∑–≤–µ–¥–∫–∏ (Phase 0.2-0.3), –ü–ï–†–ï–î –≥–∏–ø–æ—Ç–µ–∑–∞–º–∏ (Phase 1).

---

## üéØ –ù–ê–ó–ù–ê–ß–ï–ù–ò–ï

Pre-Flight Check - —ç—Ç–æ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ—Ö —Å–∏—Å—Ç–µ–º–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ –ø–µ—Ä–µ–¥ –Ω–∞—á–∞–ª–æ–º –æ—Ç–ª–∞–¥–∫–∏. –¶–µ–ª—å - —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –≤—Å–µ —Å–∏—Å—Ç–µ–º—ã –≥–æ—Ç–æ–≤—ã –∫ —Ä–∞–±–æ—Ç–µ –∏ –Ω–µ—Ç –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –ø—Ä–æ–±–ª–µ–º, –∫–æ—Ç–æ—Ä—ã–µ –ø–æ–º–µ—à–∞—é—Ç –æ—Ç–ª–∞–¥–∫–µ.

**–ö–†–ò–¢–ï–†–ò–ô GO/STOP:**
- ‚úÖ **GO:** –°–µ—Ä–≤–µ—Ä active, –º–æ—Å—Ç verified, –ª–∏–Ω—Ç–µ—Ä OK/WARNINGS ‚Üí –ø–µ—Ä–µ—Ö–æ–¥–∏ –∫ Phase 1
- ‚ùå **STOP:** –°–µ—Ä–≤–µ—Ä inactive/error –ò–õ–ò –º–æ—Å—Ç failed ‚Üí ERROR –∏ –æ—Å—Ç–∞–Ω–æ–≤–∫–∞

---

## üìã –û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–´–ï –®–ê–ì–ò

### 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å–µ—Ä–≤–µ—Ä–∞ RooTrace

**–ò–ù–°–¢–†–£–ú–ï–ù–¢:** `get_debug_status`

**–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–´–ï –ü–†–û–í–ï–†–ö–ò:**
- –í—ã–∑–æ–≤–∏ `get_debug_status`
- –ü—Ä–æ–≤–µ—Ä—å `serverStatus === "active"` –ò `serverTestResult === "Server verified: write/read test passed"`
- **–ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û:** –ü—Ä–æ–≤–µ—Ä—è–π –Ω–µ —Ç–æ–ª—å–∫–æ `serverStatus`, –Ω–æ –∏ `serverTestResult`!

**–†–ï–ó–£–õ–¨–¢–ê–¢–´:**
- –ï—Å–ª–∏ `serverStatus === "active"` –ò `serverTestResult === "Server verified: write/read test passed"` ‚Üí ‚úÖ –ü—Ä–æ–¥–æ–ª–∂–∞–π
- –ï—Å–ª–∏ `serverStatus === "inactive"` ‚Üí ‚ùå `ERROR: Server inactive. Enable RooTrace extension.`
- –ï—Å–ª–∏ `serverStatus === "error"` –∏–ª–∏ `serverTestResult` —Å–æ–¥–µ—Ä–∂–∏—Ç "failed" ‚Üí ‚ùå `ERROR: Server test failed: [serverTestResult]. Fix server before debugging.`

**–í–´–í–û–î:** `PREFLIGHT: Server [active|inactive|error]`

---

### 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è (—Å–µ—Ç—å)

**–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û:** –û–±–Ω–∞—Ä—É–∂—å —Å–µ—Ç—å –∏ –æ–ø—Ä–µ–¥–µ–ª–∏ FINAL_HOST –∏ ACTUAL_PORT.

**–®–ê–ì–ò:**
1. –û–±–Ω–∞—Ä—É–∂—å —Å–µ—Ç—å (.debug_port, Docker —Ñ–∞–π–ª—ã, docker ps)
2. –û–ø—Ä–µ–¥–µ–ª–∏ FINAL_HOST –∏ ACTUAL_PORT

**üö®üö®üö® –ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û: –ò–ú–Ø –ò–ù–°–¢–†–£–ú–ï–ù–¢–ê –î–û–°–õ–û–í–ù–û–ï! üö®üö®üö®**

**–°–ö–û–ü–ò–†–£–ô –≠–¢–£ –ö–û–ú–ê–ù–î–£ –ë–£–ö–í–ê –í –ë–£–ö–í–£:** `load_rule(rulePath="roo-06-network.md")` - –î–µ—Ç–∞–ª–∏ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏—è —Å–µ—Ç–∏

**–í–ê–ñ–ù–û:** –ï—Å–ª–∏ —Å–µ—Ç—å –µ—â–µ –Ω–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∞, –≤—ã–ø–æ–ª–Ω–∏ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ —Å–µ—Ç–∏ –∏–∑ Phase 2 (—Å–º. `roo-06-network.md`).

**–í–´–í–û–î:** `PREFLIGHT: Network [http://FINAL_HOST:ACTUAL_PORT]`

---

### 3. –ü—Ä–æ–≤–µ—Ä–∫–∞ –º–æ—Å—Ç–∞ (smoke test)

**–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û:** –í—ã–ø–æ–ª–Ω–∏ smoke test –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è —Å —Å–µ—Ä–≤–µ—Ä–æ–º.

**–®–ê–ì–ò:**
1. –í—ã–ø–æ–ª–Ω–∏ smoke test (—Å–º. `roo-07-smoke-test.md` –¥–ª—è –¥–µ—Ç–∞–ª–µ–π)
2. –ü—Ä–æ–≤–µ—Ä—å, —á—Ç–æ —Å–µ—Ä–≤–µ—Ä –ø–æ–ª—É—á–∞–µ—Ç –ª–æ–≥–∏
3. –ü—Ä–æ–≤–µ—Ä—å —Ç–µ–ª–æ –æ—Ç–≤–µ—Ç–∞ –Ω–∞ –Ω–∞–ª–∏—á–∏–µ `"SMOKE_TEST_VERIFIED"` –∏ `"received": true`

**–ö–†–ò–¢–ï–†–ò–ô:**
- ‚úÖ **VERIFIED:** –¢–µ–ª–æ –æ—Ç–≤–µ—Ç–∞ —Å–æ–¥–µ—Ä–∂–∏—Ç `"SMOKE_TEST_VERIFIED"` –ò `"received": true`
- ‚ùå **FAILED:** –¢–µ–ª–æ –æ—Ç–≤–µ—Ç–∞ –ù–ï —Å–æ–¥–µ—Ä–∂–∏—Ç `"SMOKE_TEST_VERIFIED"` –ò–õ–ò HTTP —Å—Ç–∞—Ç—É—Å –Ω–µ 200

**–í–ê–ñ–ù–û:** –ù–ï –ø—Ä–æ–¥–æ–ª–∂–∞–π –∫ Phase 1 –±–µ–∑ —É—Å–ø–µ—à–Ω–æ–≥–æ smoke test!

**–í–´–í–û–î:** `PREFLIGHT: Bridge [verified|failed]`

**üö®üö®üö® –ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û: –ò–ú–Ø –ò–ù–°–¢–†–£–ú–ï–ù–¢–ê –î–û–°–õ–û–í–ù–û–ï! üö®üö®üö®**

**–°–ö–û–ü–ò–†–£–ô –≠–¢–£ –ö–û–ú–ê–ù–î–£ –ë–£–ö–í–ê –í –ë–£–ö–í–£:** `load_rule(rulePath="roo-07-smoke-test.md")` - –î–µ—Ç–∞–ª—å–Ω—ã–π –ø—Ä–æ—Ç–æ–∫–æ–ª smoke test

---

### 4. –ü—Ä–æ–≤–µ—Ä–∫–∞ –ª–∏–Ω—Ç–µ—Ä–∞/–¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫–∏

**–ü–†–ï–î–ü–û–ß–¢–ò–¢–ï–õ–¨–ù–û:** –ò—Å–ø–æ–ª—å–∑—É–π `get_problems()` –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –≤—Å–µ—Ö –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫ workspace:
- –í–æ–∑–≤—Ä–∞—â–∞–µ—Ç –æ—à–∏–±–∫–∏ –∏ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è —Å –¥–µ—Ç–∞–ª—è–º–∏ (severity, message, range, source, code)
- –î–∞–µ—Ç –ø–æ–ª–Ω—É—é –∫–∞—Ä—Ç–∏–Ω—É –∑–¥–æ—Ä–æ–≤—å—è –∫–æ–¥–∞

**FALLBACK:** –ò—Å–ø–æ–ª—å–∑—É–π `@problems` mention –µ—Å–ª–∏ MCP –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω:
- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –∑–∞—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç –¥–∏–∞–≥–Ω–æ—Å—Ç–∏–∫—É –∏–∑ VSCode Problems panel
- –í–∫–ª—é—á–∞–µ—Ç –æ—à–∏–±–∫–∏ (severity 0) –∏ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è (severity 1)

**–û–¶–ï–ù–ö–ê:**
- –ü—Ä–æ–≤–µ—Ä—å, —á—Ç–æ –ø—Ä–æ–µ–∫—Ç —Å–æ–±–∏—Ä–∞–µ—Ç—Å—è
- –ï—Å–ª–∏ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏ ‚Üí WARNING, –Ω–æ –Ω–µ –æ—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–π—Å—è
- –ï—Å–ª–∏ —Ç–æ–ª—å–∫–æ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è ‚Üí OK, –ø—Ä–æ–¥–æ–ª–∂–∞–π

**–í–´–í–û–î:** `PREFLIGHT: Diagnostics [OK|WARNINGS|ERRORS]` —Å –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ–º

**–ü–†–ò–ú–ï–†–´:**
- `PREFLIGHT: Diagnostics OK (0 errors, 0 warnings)`
- `PREFLIGHT: Diagnostics WARNINGS (0 errors, 5 warnings)`
- `PREFLIGHT: Diagnostics ERRORS (3 errors, 2 warnings)`

---

### 5. –ü—Ä–æ–≤–µ—Ä–∫–∞ MCP –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤

**–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û:** –ü—Ä–æ–≤–µ—Ä—å –Ω–∞–ª–∏—á–∏–µ –∫—Ä–∏—Ç–∏—á–Ω—ã—Ö MCP –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤.

**–®–ê–ì–ò:**
1. –í—ã–∑–æ–≤–∏ `list_mcp_tools` –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Å–ø–∏—Å–∫–∞ –¥–æ—Å—Ç—É–ø–Ω—ã—Ö MCP –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤
2. –ü—Ä–æ–≤–µ—Ä—å –Ω–∞–ª–∏—á–∏–µ `get_problems` –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∞
3. –ü—Ä–æ–≤–µ—Ä—å –Ω–∞–ª–∏—á–∏–µ `sequentialthinking` –∏ `memory`

**–ï–°–õ–ò –û–ë–ê –î–û–°–¢–£–ü–ù–´ (Deep Debug Mode):**
- –£—Å—Ç–∞–Ω–æ–≤–∏ —Ñ–ª–∞–≥ `_deep_debug_mode = true`
- –°–æ–∑–¥–∞–π –∑–∞–ø–∏—Å—å –≤ memory –æ –Ω–æ–≤–æ–π —Å–µ—Å—Å–∏–∏:
  - –ò—Å–ø–æ–ª—å–∑—É–π `mcp_memory_create_entities` –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Å—É—â–Ω–æ—Å—Ç–∏ "DebugSession"
  - –ù–∞–±–ª—é–¥–µ–Ω–∏—è: `session_id`, `start_time`, `initial_problem`
  - –¢–µ–≥–∏: `["debug_session", "session_start"]`
- **–í–´–í–û–î:** `PREFLIGHT: Deep Debug Mode [ENABLED]`

**–ï–°–õ–ò –ù–ï–î–û–°–¢–£–ü–ù–´ (Fallback):**
- –£—Å—Ç–∞–Ω–æ–≤–∏ —Ñ–ª–∞–≥ `_deep_debug_mode = false`
- –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–π `_debug_history = []` (fallback)
- **–í–´–í–û–î:** `PREFLIGHT: Deep Debug Mode [DISABLED] - using fallback`

---

### 6. –ö—Ä–∏—Ç–µ—Ä–∏–π GO/STOP

**–û–ë–Ø–ó–ê–¢–ï–õ–¨–ù–û:** –û—Ü–µ–Ω–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤—Å–µ—Ö –ø—Ä–æ–≤–µ—Ä–æ–∫ –∏ –ø—Ä–∏–º–∏ —Ä–µ—à–µ–Ω–∏–µ.

**‚úÖ GO (–ø—Ä–æ–¥–æ–ª–∂–∞—Ç—å):**
- –°–µ—Ä–≤–µ—Ä active –ò `serverTestResult === "Server verified: write/read test passed"`
- –ú–æ—Å—Ç verified (smoke test –ø—Ä–æ—à–µ–ª)
- –õ–∏–Ω—Ç–µ—Ä OK –∏–ª–∏ WARNINGS (–Ω–µ –∫—Ä–∏—Ç–∏—á–Ω—ã–µ –æ—à–∏–±–∫–∏)

**‚ùå STOP (–æ—Å—Ç–∞–Ω–æ–≤–∫–∞):**
- –°–µ—Ä–≤–µ—Ä inactive/error –ò–õ–ò `serverTestResult` —Å–æ–¥–µ—Ä–∂–∏—Ç "failed"
- –ú–æ—Å—Ç failed (smoke test –ø—Ä–æ–≤–∞–ª–µ–Ω)

**–î–ï–ô–°–¢–í–ò–Ø –ü–†–ò STOP:**
- –í—ã–≤–µ–¥–∏ ERROR —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º –ø—Ä–æ–±–ª–µ–º—ã
- –û—Å—Ç–∞–Ω–æ–≤–∏—Å—å –∏ –Ω–µ –ø–µ—Ä–µ—Ö–æ–¥–∏ –∫ Phase 1
- –ü—Ä–µ–¥–ª–æ–∂–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –∏—Å–ø—Ä–∞–≤–∏—Ç—å –ø—Ä–æ–±–ª–µ–º—É

**–î–ï–ô–°–¢–í–ò–Ø –ü–†–ò GO:**
- –ü–µ—Ä–µ—Ö–æ–¥–∏ –∫ Phase 1 (—Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –≥–∏–ø–æ—Ç–µ–∑)

**üö®üö®üö® –ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û: –ò–ú–Ø –ò–ù–°–¢–†–£–ú–ï–ù–¢–ê –î–û–°–õ–û–í–ù–û–ï! üö®üö®üö®**

**–°–ö–û–ü–ò–†–£–ô –≠–¢–£ –ö–û–ú–ê–ù–î–£ –ë–£–ö–í–ê –í –ë–£–ö–í–£:** `load_rule(rulePath="roo-05-hypotheses.md")` - –î–µ—Ç–∞–ª–∏ —Ñ–æ—Ä–º—É–ª–∏—Ä–æ–≤–∞–Ω–∏—è –≥–∏–ø–æ—Ç–µ–∑

---

## üö® –®–¢–†–ê–§–´

**–®–¢–†–ê–§:** –î–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ Pre-Flight Check = +15 –±–∞–ª–ª–æ–≤ (CRITICAL FAILURE)

**–®–¢–†–ê–§:** –ü—Ä–æ–ø—É—Å–∫ Pre-Flight Check = +20 –±–∞–ª–ª–æ–≤ (CRITICAL FAILURE)

**–®–¢–†–ê–§:** –ü—Ä–æ–ø—É—Å–∫ –ø—Ä–æ–≤–µ—Ä–∫–∏ MCP –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–æ–≤ = +5 –±–∞–ª–ª–æ–≤

**–®–¢–†–ê–§:** –ü—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ –∫ Phase 1 –ø—Ä–∏ STOP –∫—Ä–∏—Ç–µ—Ä–∏–∏ = +20 –±–∞–ª–ª–æ–≤ (CRITICAL FAILURE)

---

## üìö –°–í–Ø–ó–ê–ù–ù–´–ï –ú–û–î–£–õ–ò

**üö®üö®üö® –ö–†–ò–¢–ò–ß–ï–°–ö–ò –í–ê–ñ–ù–û: –ò–ú–Ø –ò–ù–°–¢–†–£–ú–ï–ù–¢–ê –î–û–°–õ–û–í–ù–û–ï! üö®üö®üö®**

**–î–ª—è –∑–∞–≥—Ä—É–∑–∫–∏ –º–æ–¥—É–ª–µ–π –°–ö–û–ü–ò–†–£–ô –ö–û–ú–ê–ù–î–´ –ë–£–ö–í–ê –í –ë–£–ö–í–£ (–ù–ï –ò–ó–ú–ï–ù–Ø–ô –ò–ú–Ø –ò–ù–°–¢–†–£–ú–ï–ù–¢–ê!):**

- **–°–ö–û–ü–ò–†–£–ô:** `load_rule(rulePath="roo-03-receive-architect.md")` - Phase 0.3: –ü—Ä–∏–µ–º–∫–∞ summary
- **–°–ö–û–ü–ò–†–£–ô:** `load_rule(rulePath="roo-05-hypotheses.md")` - Phase 1: –§–æ—Ä–º—É–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –≥–∏–ø–æ—Ç–µ–∑
- **–°–ö–û–ü–ò–†–£–ô:** `load_rule(rulePath="roo-06-network.md")` - Phase 2: –û–±–Ω–∞—Ä—É–∂–µ–Ω–∏–µ —Å–µ—Ç–∏
- **–°–ö–û–ü–ò–†–£–ô:** `load_rule(rulePath="roo-07-smoke-test.md")` - Phase 2.2: Smoke Test
- **–°–ö–û–ü–ò–†–£–ô:** `load_rule(rulePath="00-help-operations.md")` - –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫ –ø–æ `get_debug_status`

---

**–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:** 2026-01-23
